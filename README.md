# Random Users API

Веб-приложение для получения и отображения случайных пользователей с использованием API randomuser.me.

## Описание

Приложение предоставляет веб-интерфейс для загрузки и отображения информации о случайных пользователях. При старте сервера автоматически загружается 1000 случайных пользователей из API. Данные хранятся в базе данных и отображаются в табличном виде с возможностью пагинации.

## Обоснование выбора технологий

### Backend
- **FastAPI**: Выбран как современный, быстрый фреймворк с отличной поддержкой асинхронности и автоматической документацией API. Позволяет эффективно обрабатывать большое количество запросов и предоставляет встроенную валидацию данных через Pydantic.
- **PostgreSQL**: Выбрана как надежная реляционная БД с хорошей производительностью при работе с большими объемами данных. Поддерживает JSON-поля, что удобно для хранения дополнительной информации о пользователях.
- **SQLAlchemy**: ORM для работы с базой данных, предоставляет удобный интерфейс для работы с данными и поддерживает асинхронные операции.
- **Alembic**: Для управления миграциями базы данных, обеспечивает безопасное обновление схемы БД.

### Frontend
- **HTML/CSS/JavaScript**: Использованы базовые веб-технологии для создания простого и функционального интерфейса.
- **Bootstrap**: Для быстрой разработки адаптивного интерфейса и стилизации таблицы.

## Структура проекта

```
.
├── app/
│   ├── __init__.py
│   ├── main.py
│   ├── models.py
│   ├── schemas.py
│   └── database.py
├── alembic/
│   ├── versions/
│   └── env.py
├── Dockerfile
├── docker-compose.yml
├── init.sh
├── requirements.txt
├── README.md
└── start.sh

```

## Установка и запуск

### Требования

- Docker
- Docker Compose

### Запуск приложения

1. Клонируйте репозиторий:
```bash
git clone https://github.com/KruglovEgor/yadro_python
cd yadro_python
```

2. Запустите приложение с помощью Docker Compose:
```bash
docker-compose up --build
```

Приложение будет доступно по адресу: http://localhost:8000

### Автоматическая инициализация

При первом запуске:
- Создается база данных PostgreSQL
- Применяются миграции Alembic
- Загружается 1000 случайных пользователей из API
- Запускается веб-сервер

## API Endpoints

- `GET /` - Основная страница с формой для загрузки пользователей и таблицей
- `GET /{user_id}` - Получение информации о конкретном пользователе
- `GET /random` - Получение информации о случайном пользователе

## Тестирование

Для запуска тестов выполните:
```bash
pytest
```

Тесты с внешним API замоканы для обеспечения стабильности тестирования.

## Переменные окружения

- `DATABASE_URL` - URL для подключения к базе данных PostgreSQL
- `PYTHONPATH` - Путь к директории приложения

## Лицензия

MIT 